{"ast":null,"code":"const axios = require('axios');\n\nconst path = require('path');\n\nexport default function handler(req, res) {\n  console.log({\n    req\n  });\n  const url = req.url.replace('api/shopify/', '');\n  const query = req.query;\n  console.log({\n    url,\n    query\n  });\n  const shopifyUrl = `https://rens-disposable.myshopify.com`;\n  const accessToken = req.cookies.accessToken;\n  const requestUrl = path.resolve(shopifyUrl, '/admin/api/2020-07', url);\n  axios.get(requestUrl, {\n    headers: {\n      'X-Shopify-Access-Token': accessToken\n    }\n  }).then(({\n    data\n  }) => {\n    const themes = data.themes;\n    res.status(200).json(themes);\n  }).catch(error => {\n    res.status(400).send(error);\n  });\n}","map":{"version":3,"sources":["/Users/sonchu/Projects/upsell-metropolia/pages/api/shopify/[...slug].js"],"names":["axios","require","path","handler","req","res","console","log","url","replace","query","shopifyUrl","accessToken","cookies","requestUrl","resolve","get","headers","then","data","themes","status","json","catch","error","send"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,eAAe,SAASE,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACH,IAAAA;AAAD,GAAZ;AAEA,QAAMI,GAAG,GAAGJ,GAAG,CAACI,GAAJ,CAAQC,OAAR,CAAgB,cAAhB,EAAgC,EAAhC,CAAZ;AACA,QAAMC,KAAK,GAAGN,GAAG,CAACM,KAAlB;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAY;AAAEC,IAAAA,GAAF;AAAOE,IAAAA;AAAP,GAAZ;AAEA,QAAMC,UAAU,GAAI,uCAApB;AAEA,QAAMC,WAAW,GAAGR,GAAG,CAACS,OAAJ,CAAYD,WAAhC;AACA,QAAME,UAAU,GAAGZ,IAAI,CAACa,OAAL,CAAaJ,UAAb,EAAyB,oBAAzB,EAA+CH,GAA/C,CAAnB;AAEAR,EAAAA,KAAK,CAACgB,GAAN,CAAUF,UAAV,EAAsB;AACpBG,IAAAA,OAAO,EAAE;AACP,gCAA0BL;AADnB;AADW,GAAtB,EAIGM,IAJH,CAIQ,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAc;AACpB,UAAMC,MAAM,GAAGD,IAAI,CAACC,MAApB;AACAf,IAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,MAArB;AACD,GAPD,EAOGG,KAPH,CAOUC,KAAD,IAAW;AAClBnB,IAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqBD,KAArB;AACD,GATD;AAUD","sourcesContent":["const axios = require('axios');\nconst path = require('path');\n\nexport default function handler(req, res) {\n  console.log({req});\n\n  const url = req.url.replace('api/shopify/', '');\n  const query = req.query;\n  console.log({ url, query });\n\n  const shopifyUrl = `https://rens-disposable.myshopify.com`;\n\n  const accessToken = req.cookies.accessToken;\n  const requestUrl = path.resolve(shopifyUrl, '/admin/api/2020-07', url)\n\n  axios.get(requestUrl, {\n    headers: {\n      'X-Shopify-Access-Token': accessToken\n    }\n  }).then(({ data }) => {\n    const themes = data.themes;\n    res.status(200).json(themes)\n  }).catch((error) => {\n    res.status(400).send(error)\n  })\n}"]},"metadata":{},"sourceType":"module"}