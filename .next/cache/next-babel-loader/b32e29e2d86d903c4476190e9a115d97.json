{"ast":null,"code":"import { compile } from 'handlebars'; // const upsellTemplate = `\n// <div id=\"CartUpsaleFormContainer\" class=\"drawer__footer appear-animation appear-delay-5\">\n//   <div class=\"add_more_pair\">\n//     <p class=\"save_eighty text-center\">{{ upsellHeading }}</p>\n//     <p class=\"text-center\">{{ upsellSubheading }}</p>\n//   </div>\n//   <div class=\"inCartUpsaleProduct--container\">\n//     {{#upsellProducts}}\n//       <div class=\"inCartUpsaleProduct\">\n//         <img class=\"inCartUpsaleProduct--img\" src=\"{{featured_image}}\" alt=\"{{title}}\">\n//         <p class=\"inCartUpsaleProduct--title\">{{title}} - {{price}}</p>\n//         <div class=\"inCartUpsaleProduct--form\">\n//           <select class=\"inCartUpsaleProduct--variantSelect\" data-product-id=\"{{id}}\">\n//             {{#variants}}\n//               {{#if available  }}\n//                 {{#if_eq ../../preselectedVariation title}}\n//                   <option value=\"{{id}}\" selected>{{ title }}</option>\n//                 {{else}}\n//                   <option value=\"{{id}}\">{{ title }}</option>\n//                 {{/if_eq}}\n//               {{/if }}\n//             {{/variants}}\n//           </select>\n//           <button type=\"button\" data-product-id=\"{{id}}\" class=\"inCartUpsaleProduct--submitBtn btn-white btn--full\">Add</button>\n//         </div>\n//       </div>\n//     {{/upsellProducts}}\n//   </div>\n//   <div class=\"add-more-pair-shop-now\">\n//     <a href=\"{{ browseMoreUrl }}\" class=\"shop-now-btn\">{{ browseMoreUrlButtonText }}</a>\n//   </div>\n// </div>\n// `\n\nvar upsellTemplate = \"\\n<div id=\\\"upsell\\\" class=\\\"inCartUpsaleProduct--container\\\">\\n  {{#upsellProducts}}\\n    <div class=\\\"inCartUpsaleProduct\\\">\\n      <img class=\\\"inCartUpsaleProduct--img\\\" src=\\\"{{images.0.originalSrc}}\\\" alt=\\\"{{images.0.altText}}\\\">\\n      <select class=\\\"inCartUpsaleProduct--variantSelect\\\" data-product-id=\\\"{{id}}\\\">\\n        {{#variants}}\\n          <option value=\\\"{{id}}\\\">{{ title }}</option>\\n        {{/variants}}\\n      </select>\\n      <button type=\\\"button\\\" data-product-id=\\\"{{id}}\\\" class=\\\"inCartUpsaleProduct--submitBtn btn--secondary btn--full\\\">Add</button>\\n    </div>\\n  {{/upsellProducts}}\\n</div>\\n<script>\\n$('.inCartUpsaleProduct--submitBtn').on('click', function() {\\n  console.log({ button: this })\\n  const productId = $(this).data('productId');\\n  const variantId = $('select[data-product-id=\\\"'+productId+'\\\"]').val().match(/\\\\d+/g)[0];\\n  console.log({ variantId })\\n\\n  $.post('/cart/add.js', {\\n    items: [{\\n      quantity: 1,\\n      id: variantId,\\n    }]\\n  }).then(() => {\\n    window.ajaxCart.load();\\n  })\\n})\\n</script>\\n<style>\\n.upsell-container {\\n  height: 300px;\\n}\\n.inCartUpsaleProduct--container {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  column-gap: 15px;\\n  margin: 0 -0.5rem;\\n}\\n\\n.inCartUpsaleProduct .inCartUpsaleProduct--img {\\n  display: block;\\n  max-width: 100%;\\n}\\n.inCartUpsaleProduct .inCartUpsaleProduct--title {\\n  font-size: 0.9rem;\\n  margin-bottom: 0;\\n}\\n.inCartUpsaleProduct .inCartUpsaleProduct--price {\\n  font-size: 0.9rem;\\n  margin-bottom: 0;\\n}\\n.inCartUpsaleProduct .inCartUpsaleProduct--variantSelect {\\n  font-size: 0.9rem;\\n  padding-top: 4px;\\n  padding-bottom: 4px;\\n  margin: 0.5rem 0;\\n  width: 100%;\\n}\\n.inCartUpsaleProduct .inCartUpsaleProduct--submitBtn {\\n}\\n.drawer--has-fixed-footer .drawer__inner {\\n  overflow-y: auto;\\n}\\n</style>\\n\";\nexport default function generateUpsellSnippet() {\n  var upsellProducts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var snippet = compile(upsellTemplate)({\n    upsellHeading: 'Lorem ipsum',\n    upsellSubheading: 'Lorem ipsum',\n    upsellProducts: upsellProducts,\n    browseMoreUrl: '',\n    browseMoreUrlButtonText: 'Lorem ipsum'\n  });\n  return snippet;\n}","map":{"version":3,"sources":["/Users/sonchu/Projects/upsell-metropolia/components/upsell-in-cart.liquid.js"],"names":["compile","upsellTemplate","generateUpsellSnippet","upsellProducts","snippet","upsellHeading","upsellSubheading","browseMoreUrl","browseMoreUrlButtonText"],"mappings":"AAAA,SAASA,OAAT,QAAwB,YAAxB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,cAAc,2zDAApB;AAqEA,eAAe,SAASC,qBAAT,GAAoD;AAAA,MAArBC,cAAqB,uEAAJ,EAAI;AACjE,MAAMC,OAAO,GAAGJ,OAAO,CAACC,cAAD,CAAP,CAAwB;AACtCI,IAAAA,aAAa,EAAE,aADuB;AAEtCC,IAAAA,gBAAgB,EAAE,aAFoB;AAGtCH,IAAAA,cAAc,EAAdA,cAHsC;AAItCI,IAAAA,aAAa,EAAE,EAJuB;AAKtCC,IAAAA,uBAAuB,EAAE;AALa,GAAxB,CAAhB;AAOA,SAAOJ,OAAP;AACD","sourcesContent":["import { compile } from 'handlebars';\n\n// const upsellTemplate = `\n// <div id=\"CartUpsaleFormContainer\" class=\"drawer__footer appear-animation appear-delay-5\">\n//   <div class=\"add_more_pair\">\n//     <p class=\"save_eighty text-center\">{{ upsellHeading }}</p>\n//     <p class=\"text-center\">{{ upsellSubheading }}</p>\n//   </div>\n//   <div class=\"inCartUpsaleProduct--container\">\n//     {{#upsellProducts}}\n//       <div class=\"inCartUpsaleProduct\">\n//         <img class=\"inCartUpsaleProduct--img\" src=\"{{featured_image}}\" alt=\"{{title}}\">\n//         <p class=\"inCartUpsaleProduct--title\">{{title}} - {{price}}</p>\n//         <div class=\"inCartUpsaleProduct--form\">\n//           <select class=\"inCartUpsaleProduct--variantSelect\" data-product-id=\"{{id}}\">\n//             {{#variants}}\n//               {{#if available  }}\n//                 {{#if_eq ../../preselectedVariation title}}\n//                   <option value=\"{{id}}\" selected>{{ title }}</option>\n//                 {{else}}\n//                   <option value=\"{{id}}\">{{ title }}</option>\n//                 {{/if_eq}}\n//               {{/if }}\n//             {{/variants}}\n//           </select>\n//           <button type=\"button\" data-product-id=\"{{id}}\" class=\"inCartUpsaleProduct--submitBtn btn-white btn--full\">Add</button>\n//         </div>\n//       </div>\n//     {{/upsellProducts}}\n//   </div>\n//   <div class=\"add-more-pair-shop-now\">\n//     <a href=\"{{ browseMoreUrl }}\" class=\"shop-now-btn\">{{ browseMoreUrlButtonText }}</a>\n//   </div>\n// </div>\n// `\n\nconst upsellTemplate = `\n<div id=\"upsell\" class=\"inCartUpsaleProduct--container\">\n  {{#upsellProducts}}\n    <div class=\"inCartUpsaleProduct\">\n      <img class=\"inCartUpsaleProduct--img\" src=\"{{images.0.originalSrc}}\" alt=\"{{images.0.altText}}\">\n      <select class=\"inCartUpsaleProduct--variantSelect\" data-product-id=\"{{id}}\">\n        {{#variants}}\n          <option value=\"{{id}}\">{{ title }}</option>\n        {{/variants}}\n      </select>\n      <button type=\"button\" data-product-id=\"{{id}}\" class=\"inCartUpsaleProduct--submitBtn btn--secondary btn--full\">Add</button>\n    </div>\n  {{/upsellProducts}}\n</div>\n<script>\n$('.inCartUpsaleProduct--submitBtn').on('click', function() {\n  console.log({ button: this })\n  const productId = $(this).data('productId');\n  const variantId = $('select[data-product-id=\"'+productId+'\"]').val().match(/\\\\d+/g)[0];\n  console.log({ variantId })\n\n  $.post('/cart/add.js', {\n    items: [{\n      quantity: 1,\n      id: variantId,\n    }]\n  }).then(() => {\n    window.ajaxCart.load();\n  })\n})\n</script>\n<style>\n.upsell-container {\n  height: 300px;\n}\n.inCartUpsaleProduct--container {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 15px;\n  margin: 0 -0.5rem;\n}\n\n.inCartUpsaleProduct .inCartUpsaleProduct--img {\n  display: block;\n  max-width: 100%;\n}\n.inCartUpsaleProduct .inCartUpsaleProduct--title {\n  font-size: 0.9rem;\n  margin-bottom: 0;\n}\n.inCartUpsaleProduct .inCartUpsaleProduct--price {\n  font-size: 0.9rem;\n  margin-bottom: 0;\n}\n.inCartUpsaleProduct .inCartUpsaleProduct--variantSelect {\n  font-size: 0.9rem;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  margin: 0.5rem 0;\n  width: 100%;\n}\n.inCartUpsaleProduct .inCartUpsaleProduct--submitBtn {\n}\n.drawer--has-fixed-footer .drawer__inner {\n  overflow-y: auto;\n}\n</style>\n`\n\nexport default function generateUpsellSnippet(upsellProducts = []) {\n  const snippet = compile(upsellTemplate)({\n    upsellHeading: 'Lorem ipsum',\n    upsellSubheading: 'Lorem ipsum',\n    upsellProducts,\n    browseMoreUrl: '',\n    browseMoreUrlButtonText: 'Lorem ipsum'\n  })\n  return snippet;\n}"]},"metadata":{},"sourceType":"module"}